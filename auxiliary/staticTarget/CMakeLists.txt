ADD_DEFINITIONS(-DSimTK_SIMBODY_BUILDING_STATIC_LIBRARY -DSimTK_USE_STATIC_LIBRARIES)

ADD_LIBRARY(${AUX_STATIC_TARGET} STATIC ${AUX_SOURCE_FILES} ${AUX_INCLUDE_FILES} ${API_ABS_INCLUDE_FILES})

TARGET_LINK_LIBRARIES(${AUX_STATIC_TARGET} 
                ${STATIC_TARGET} 
                debug ${SimTKCPODES_STATIC_LIBRARY}_d optimized ${SimTKCPODES_STATIC_LIBRARY} 
                debug ${SimTKCOMMON_STATIC_LIBRARY}_d optimized ${SimTKCOMMON_STATIC_LIBRARY} 
                ${MATH_LIBS_TO_USE}
		${VTK_LIBS_TO_USE})

if(APPLE)
    target_link_libraries(${AUX_STATIC_TARGET} ${CARBON_FRAMEWORK})
endif(APPLE)

SET_TARGET_PROPERTIES(${AUX_STATIC_TARGET}  PROPERTIES
	PROJECT_LABEL "Library - ${AUX_STATIC_TARGET}")


# install the library; on Windows both .lib and .dll go in the lib directory.
INSTALL(TARGETS ${AUX_STATIC_TARGET}
                 ARCHIVE DESTINATION ${SimTK_INSTALL_PREFIX}/core/lib${LIB64}
                 LIBRARY DESTINATION ${SimTK_INSTALL_PREFIX}/core/lib${LIB64}
                 RUNTIME DESTINATION ${SimTK_INSTALL_PREFIX}/core/lib${LIB64}
)


